!function(e){e.fn.ellipseTool=function(e){function a(){t.drawEllipse({fillStyle:e.color,x:s,y:r,width:Math.abs(g),height:Math.abs(u),fromCenter:!1})}var t=this;t.unbind();var n,o,s,r,g,u;t.on(e.getTouchEventName("mousedown"),function(s){e.hist.push(e.last.src=t[0].toDataURL("image/png")),e.undoHist.length=0,e.drag=!0,g=0,u=0;var r=e.getPageCoords(s);n=r.pageX,o=r.pageY,a(),s.preventDefault()}),t.on(e.getTouchEventName("mouseup"),function(a){e.drag=!1,e.last.src=t[0].toDataURL("image/png"),a.preventDefault()}),t.on(e.getTouchEventName("mousemove"),function(i){!0===e.drag&&(e.clearCanvas(),t.drawImage({source:e.last.src,x:0,y:0,width:e.canvasW,height:e.canvasH,fromCenter:!1,load:function(){var t=e.getPageCoords(i),c=t.pageX,l=t.pageY,h=c-n,f=l-o;s=h<0?c:n,r=f<0&&!1===e.press?l:o,g=Math.abs(h),u=Math.abs(f),a()}}),i.preventDefault())})}}(jQuery);
//# sourceMappingURL=ellipse.min.js.map