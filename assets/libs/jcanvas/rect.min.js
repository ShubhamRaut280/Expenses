!function(a){a.fn.rectTool=function(a){function e(){t.drawRect({fillStyle:a.color,x:r,y:s,width:Math.abs(g),height:Math.abs(u),fromCenter:!1})}var t=this;t.unbind();var n,o,r,s,g,u;t.on(a.getTouchEventName("mousedown"),function(r){a.hist.push(a.last.src=t[0].toDataURL("image/png"));var s=a.getPageCoords(r);n=s.pageX,o=s.pageY,g=0,u=0,e(),a.drag=!0,r.preventDefault()}),t.on(a.getTouchEventName("mouseup"),function(e){a.drag=!1,g=0,u=0,a.last.src=t[0].toDataURL("image/png"),e.preventDefault()}),t.on(a.getTouchEventName("mousemove"),function(c){!0===a.drag&&(a.clearCanvas(),t.drawImage({source:a.last.src,x:0,y:0,width:a.canvasW,height:a.canvasH,fromCenter:!1,load:function(){var t=a.getPageCoords(c),i=t.pageX,h=t.pageY,f=i-n,v=h-o;r=f<0?i:n,s=v<0?h:o,g=Math.abs(f),u=Math.abs(v),e()}}),c.preventDefault())})}}(jQuery);
//# sourceMappingURL=rect.min.js.map